<!doctype html>
<html ng-app="app">
<head>
    <title>Submarine</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body ng-controller="ChatCtrl">

<div class="center" ng-show="!rtc.connected">
    <p>Give this URL to your friend!</p>
    <input type="text" id="url" value="" readonly select-on-click >
</div>

<div id="controls" ng-cloak>
    <h1>Submarine</h1>
    
    <div>
        <h2 ng-if="rtc.connected">Connection Established</h2>
        <h2 ng-if="!rtc.connected">Waiting for opponent...</h2>
        
        <div id="chat-box">
            <article ng-repeat="msg in messages"><b ng-class="{localuser:msg.local}">{{msg.who}}</b>: {{msg.txt}}</article>
        </div>
        <div id="chat-controls">
            <input ng-disabled="!rtc.connected" type="text" ng-model="message" ng-keypress="$event.keyCode === 13 && sendMessage()">
            <button ng-disabled="!rtc.connected" ng-click="sendMessage()">Send</button>
        </div>
    </div>
</div>
<canvas id="canvas"></canvas>

<div ng-controller="AudioCtrl" ng-click="muteAudio()" id="audio_controls">
    <img src="img/unmute.svg">
</div>

<audio autoplay loop muted>
<source src="audio/ambient.ogg" type="audio/ogg">
<source src="audio/ambient.mp3" type="audio/mp3">
</audio>

<script src="js/lib/underscore-min.js"></script>
<script src="js/lib/bluebird.js"></script>
<script src="js/lib/angular.min.js"></script>
<script src="js/lib/peer.min.js"></script>
<script src="js/lib/babylon.min.js"></script>
<script src="js/lib/hand-1.3.5.js"></script>
<script src="js/gameboard.js"></script>
<script src="js/game.js"></script>
<script src="js/main.js"></script>
<script src="js/rtc.js"></script>
<script src="js/chat.js"></script>

</body>
</html>

